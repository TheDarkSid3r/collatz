window.addEventListener("load",()=>{const e=e=>e%2?3*e+1:e/2,t=e=>!!e&&{x:e.offsetLeft,y:e.offsetTop},n=document.querySelector(".wrapper"),r=document.querySelector(".output-svg"),s=document.querySelector(".output-main");let l=null;const o=o=>{if(r.innerHTML="",s.innerHTML="",!o)return;const i=(t=>{let n=Math.max(Math.round(t),1);const r=[n];do{r.push(n=e(n))}while(n>1);return r})(o),a=Math.min(20/i.length,1),u=`translate(-50%, -50%) scale(${a})`,c=`${10*a}px`,d=Math.min(...i),m=Math.max(...i)-d,p=i.map((e,t)=>{const r=document.createElement("div");r.className="point",r.innerText=e,r.style.left=`${t/(i.length-1)*100}%`,r.style.top=`${100*(1-(e-d)/m)}%`,r.style.transform=u,r.style.fontSize=`${(e=>{const t=e.toString().length;switch(t){case 1:case 2:return 40;case 3:return 30;case 4:return 25;default:return Math.max(20-2*(t-5),8)}})(e)}px`;const l=document.createElement("div");l.className="clicker";let o=null;const a=e=>{null!=o&&(o.style.left=`${e.clientX}px`,o.style.top=`${e.clientY}px`)},c=()=>{null!=o&&n.removeChild(o),o=null};return l.addEventListener("mouseenter",t=>{c(),(o=document.createElement("div")).className="tooltip",o.innerText=e.toLocaleString(),n.appendChild(o),a(t)}),l.addEventListener("mouseleave",c),l.addEventListener("mousemove",a),r.appendChild(l),s.appendChild(r),r});(l=(()=>p.forEach((e,n)=>{const s=t(p[n+1]);if(s){const n=t(e),l=document.createElementNS("http://www.w3.org/2000/svg","line");l.setAttribute("x1",n.x),l.setAttribute("y1",n.y),l.setAttribute("x2",s.x),l.setAttribute("y2",s.y),l.setAttribute("stroke","#333"),l.setAttribute("stroke-width",c),r.appendChild(l)}})))()};window.addEventListener("resize",()=>{r.innerHTML="",l&&l()});const i=document.querySelector(".input");i.addEventListener("input",()=>o(i.value))});